{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Awaji-Iyaham Atteng\\\\Desktop\\\\hogwash-wordplay\\\\client\\\\src\\\\components\\\\CrosswordGrid.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\n\n// Memoized Cell Component for Performance\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst GridCell = /*#__PURE__*/React.memo(_c = ({\n  row,\n  col,\n  value,\n  isBlack,\n  number,\n  isSolved,\n  teamId,\n  isActive,\n  cursors,\n  // List of players selecting this cell\n  onClick\n}) => {\n  // If it's a black cell, render simplistic\n  if (isBlack) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid-cell black\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 17,\n      columnNumber: 16\n    }, this);\n  }\n\n  // Team Color Logic\n  const teamClassMap = ['team-a', 'team-b', 'team-c', 'team-d'];\n  const teamClass = teamId ? teamClassMap[teamId - 1] : '';\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `grid-cell white ${isActive ? 'selected' : ''} ${isSolved ? 'solved' : ''} ${teamClass}`,\n    onClick: () => onClick(row, col),\n    children: [number && /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"cell-number\",\n      children: number\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 24\n    }, this), value, cursors && cursors.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"cursor-indicator\",\n      children: cursors.length\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 25,\n    columnNumber: 9\n  }, this);\n});\n_c2 = GridCell;\nconst CrosswordGrid = ({\n  grid,\n  cursors,\n  socket,\n  sessionId\n}) => {\n  _s();\n  const [activeCell, setActiveCell] = useState(null); // { r, c }\n\n  // Handle Input\n  useEffect(() => {\n    const handleKeyDown = e => {\n      if (!activeCell || !socket || !sessionId) return;\n      const {\n        r,\n        c\n      } = activeCell;\n\n      // Check for letter (A-Z)\n      if (e.key.match(/^[a-zA-Z]$/)) {\n        socket.emit('CMD_INPUT_LETTER', {\n          sessionId,\n          x: c,\n          y: r,\n          letter: e.key.toUpperCase()\n        });\n      }\n\n      // Backspace/Delete (Clear cell)\n      if (e.key === 'Backspace' || e.key === 'Delete') {\n        socket.emit('CMD_INPUT_LETTER', {\n          sessionId,\n          x: c,\n          y: r,\n          letter: ''\n        });\n      }\n\n      // Arrow implementation (optional future polish)\n    };\n    window.addEventListener('keydown', handleKeyDown);\n    return () => window.removeEventListener('keydown', handleKeyDown);\n  }, [activeCell, socket, sessionId]);\n  const handleCellClick = React.useCallback((r, c) => {\n    setActiveCell({\n      r,\n      c\n    });\n    if (socket && sessionId) {\n      socket.emit('CMD_SELECT_CELL', {\n        sessionId,\n        x: c,\n        y: r\n      });\n    }\n  }, [socket, sessionId]);\n  if (!grid || grid.length === 0) return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"Waiting for game...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 82,\n    columnNumber: 44\n  }, this);\n\n  // Helper to find cursors at this cell\n  // cursors = { playerId: {x,y}, ... }\n  const getCursorsAt = (r, c) => {\n    if (!cursors) return [];\n    return Object.values(cursors).filter(pos => pos.x === c && pos.y === r);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"crossword-grid\",\n    children: grid.map((row, r) => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid-row\",\n      style: {\n        display: 'contents'\n      },\n      children: row.map((cell, c) => /*#__PURE__*/_jsxDEV(GridCell, {\n        row: r,\n        col: c,\n        value: cell.value,\n        isBlack: cell.isBlack,\n        number: cell.number,\n        isSolved: cell.isSolved,\n        teamId: cell.solvedByTeam,\n        isActive: activeCell && activeCell.r === r && activeCell.c === c,\n        cursors: getCursorsAt(r, c),\n        onClick: handleCellClick\n      }, `${r}-${c}`, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 25\n      }, this))\n    }, r, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 17\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 92,\n    columnNumber: 9\n  }, this);\n};\n_s(CrosswordGrid, \"K3VT+HeR8/p84fg6TGlyqA7hZ28=\");\n_c3 = CrosswordGrid;\nexport default CrosswordGrid;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"GridCell$React.memo\");\n$RefreshReg$(_c2, \"GridCell\");\n$RefreshReg$(_c3, \"CrosswordGrid\");","map":{"version":3,"names":["React","useState","useEffect","jsxDEV","_jsxDEV","GridCell","memo","_c","row","col","value","isBlack","number","isSolved","teamId","isActive","cursors","onClick","className","fileName","_jsxFileName","lineNumber","columnNumber","teamClassMap","teamClass","children","length","_c2","CrosswordGrid","grid","socket","sessionId","_s","activeCell","setActiveCell","handleKeyDown","e","r","c","key","match","emit","x","y","letter","toUpperCase","window","addEventListener","removeEventListener","handleCellClick","useCallback","getCursorsAt","Object","values","filter","pos","map","style","display","cell","solvedByTeam","_c3","$RefreshReg$"],"sources":["C:/Users/Awaji-Iyaham Atteng/Desktop/hogwash-wordplay/client/src/components/CrosswordGrid.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\n\r\n// Memoized Cell Component for Performance\r\nconst GridCell = React.memo(({\r\n    row, col,\r\n    value,\r\n    isBlack,\r\n    number,\r\n    isSolved,\r\n    teamId,\r\n    isActive,\r\n    cursors, // List of players selecting this cell\r\n    onClick\r\n}) => {\r\n    // If it's a black cell, render simplistic\r\n    if (isBlack) {\r\n        return <div className=\"grid-cell black\"></div>;\r\n    }\r\n\r\n    // Team Color Logic\r\n    const teamClassMap = ['team-a', 'team-b', 'team-c', 'team-d'];\r\n    const teamClass = teamId ? teamClassMap[teamId - 1] : '';\r\n\r\n    return (\r\n        <div\r\n            className={`grid-cell white ${isActive ? 'selected' : ''} ${isSolved ? 'solved' : ''} ${teamClass}`}\r\n            onClick={() => onClick(row, col)}\r\n        >\r\n            {number && <span className=\"cell-number\">{number}</span>}\r\n            {value}\r\n\r\n            {/* Render Other Player Cursors */}\r\n            {cursors && cursors.length > 0 && (\r\n                <div className=\"cursor-indicator\">\r\n                    {cursors.length}\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n});\r\n\r\nconst CrosswordGrid = ({ grid, cursors, socket, sessionId }) => {\r\n    const [activeCell, setActiveCell] = useState(null); // { r, c }\r\n\r\n    // Handle Input\r\n    useEffect(() => {\r\n        const handleKeyDown = (e) => {\r\n            if (!activeCell || !socket || !sessionId) return;\r\n            const { r, c } = activeCell;\r\n\r\n            // Check for letter (A-Z)\r\n            if (e.key.match(/^[a-zA-Z]$/)) {\r\n                socket.emit('CMD_INPUT_LETTER', {\r\n                    sessionId,\r\n                    x: c, y: r,\r\n                    letter: e.key.toUpperCase()\r\n                });\r\n            }\r\n\r\n            // Backspace/Delete (Clear cell)\r\n            if (e.key === 'Backspace' || e.key === 'Delete') {\r\n                socket.emit('CMD_INPUT_LETTER', {\r\n                    sessionId,\r\n                    x: c, y: r,\r\n                    letter: ''\r\n                });\r\n            }\r\n\r\n            // Arrow implementation (optional future polish)\r\n        };\r\n        window.addEventListener('keydown', handleKeyDown);\r\n        return () => window.removeEventListener('keydown', handleKeyDown);\r\n    }, [activeCell, socket, sessionId]);\r\n\r\n    const handleCellClick = React.useCallback((r, c) => {\r\n        setActiveCell({ r, c });\r\n        if (socket && sessionId) {\r\n            socket.emit('CMD_SELECT_CELL', { sessionId, x: c, y: r });\r\n        }\r\n    }, [socket, sessionId]);\r\n\r\n    if (!grid || grid.length === 0) return <div>Waiting for game...</div>;\r\n\r\n    // Helper to find cursors at this cell\r\n    // cursors = { playerId: {x,y}, ... }\r\n    const getCursorsAt = (r, c) => {\r\n        if (!cursors) return [];\r\n        return Object.values(cursors).filter(pos => pos.x === c && pos.y === r);\r\n    };\r\n\r\n    return (\r\n        <div className=\"crossword-grid\">\r\n            {grid.map((row, r) => (\r\n                <div key={r} className=\"grid-row\" style={{ display: 'contents' }}>\r\n                    {row.map((cell, c) => (\r\n                        <GridCell\r\n                            key={`${r}-${c}`}\r\n                            row={r}\r\n                            col={c}\r\n                            value={cell.value}\r\n                            isBlack={cell.isBlack}\r\n                            number={cell.number}\r\n                            isSolved={cell.isSolved}\r\n                            teamId={cell.solvedByTeam}\r\n                            isActive={activeCell && activeCell.r === r && activeCell.c === c}\r\n                            cursors={getCursorsAt(r, c)}\r\n                            onClick={handleCellClick}\r\n                        />\r\n                    ))}\r\n                </div>\r\n            ))}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default CrosswordGrid;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}