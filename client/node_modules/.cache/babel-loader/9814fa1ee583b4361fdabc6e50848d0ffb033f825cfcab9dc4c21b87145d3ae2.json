{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Awaji-Iyaham Atteng\\\\Desktop\\\\hogwash-wordplay\\\\client\\\\src\\\\components\\\\CrosswordGrid.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\n\n// Memoized Cell Component for Performance\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst GridCell = /*#__PURE__*/React.memo(_c = ({\n  row,\n  col,\n  value,\n  isBlack,\n  number,\n  isActive,\n  cursors,\n  // List of players selecting this cell\n  onClick\n}) => {\n  // If it's a black cell, render simplistic\n  if (isBlack) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid-cell black\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 15,\n      columnNumber: 16\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `grid-cell white ${isActive ? 'selected' : ''}`,\n    onClick: () => onClick(row, col),\n    children: [number && /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"cell-number\",\n      children: number\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 24\n    }, this), value, cursors && cursors.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"cursor-indicator\",\n      children: cursors.length\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 19,\n    columnNumber: 9\n  }, this);\n});\n_c2 = GridCell;\nconst CrosswordGrid = ({\n  grid,\n  cursors,\n  socket,\n  sessionId\n}) => {\n  _s();\n  const [activeCell, setActiveCell] = useState(null); // { r, c }\n\n  // Handle Input\n  useEffect(() => {\n    const handleKeyDown = e => {\n      if (!activeCell || !socket || !sessionId) return;\n      const {\n        r,\n        c\n      } = activeCell;\n\n      // Check for letter (A-Z)\n      if (e.key.match(/^[a-zA-Z]$/)) {\n        socket.emit('CMD_INPUT_LETTER', {\n          sessionId,\n          x: c,\n          y: r,\n          letter: e.key.toUpperCase()\n        });\n      }\n\n      // Backspace/Delete (Clear cell)\n      if (e.key === 'Backspace' || e.key === 'Delete') {\n        socket.emit('CMD_INPUT_LETTER', {\n          sessionId,\n          x: c,\n          y: r,\n          letter: ''\n        });\n      }\n\n      // Arrow implementation (optional future polish)\n    };\n    window.addEventListener('keydown', handleKeyDown);\n    return () => window.removeEventListener('keydown', handleKeyDown);\n  }, [activeCell, socket, sessionId]);\n  const handleCellClick = React.useCallback((r, c) => {\n    setActiveCell({\n      r,\n      c\n    });\n    if (socket && sessionId) {\n      socket.emit('CMD_SELECT_CELL', {\n        sessionId,\n        x: c,\n        y: r\n      });\n    }\n  }, [socket, sessionId]);\n  if (!grid || grid.length === 0) return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"Waiting for game...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 76,\n    columnNumber: 44\n  }, this);\n\n  // Helper to find cursors at this cell\n  // cursors = { playerId: {x,y}, ... }\n  const getCursorsAt = (r, c) => {\n    if (!cursors) return [];\n    return Object.values(cursors).filter(pos => pos.x === c && pos.y === r);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"crossword-grid\",\n    children: grid.map((row, r) => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid-row\",\n      style: {\n        display: 'contents'\n      },\n      children: [\" \", row.map((cell, c) => /*#__PURE__*/_jsxDEV(GridCell, {\n        row: r,\n        col: c,\n        value: cell.value,\n        isBlack: cell.isBlack,\n        number: cell.number,\n        isActive: activeCell && activeCell.r === r && activeCell.c === c,\n        cursors: getCursorsAt(r, c),\n        onClick: handleCellClick\n      }, `${r}-${c}`, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 25\n      }, this))]\n    }, r, true, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 17\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 86,\n    columnNumber: 9\n  }, this);\n};\n_s(CrosswordGrid, \"K3VT+HeR8/p84fg6TGlyqA7hZ28=\");\n_c3 = CrosswordGrid;\nexport default CrosswordGrid;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"GridCell$React.memo\");\n$RefreshReg$(_c2, \"GridCell\");\n$RefreshReg$(_c3, \"CrosswordGrid\");","map":{"version":3,"names":["React","useState","useEffect","jsxDEV","_jsxDEV","GridCell","memo","_c","row","col","value","isBlack","number","isActive","cursors","onClick","className","fileName","_jsxFileName","lineNumber","columnNumber","children","length","_c2","CrosswordGrid","grid","socket","sessionId","_s","activeCell","setActiveCell","handleKeyDown","e","r","c","key","match","emit","x","y","letter","toUpperCase","window","addEventListener","removeEventListener","handleCellClick","useCallback","getCursorsAt","Object","values","filter","pos","map","style","display","cell","_c3","$RefreshReg$"],"sources":["C:/Users/Awaji-Iyaham Atteng/Desktop/hogwash-wordplay/client/src/components/CrosswordGrid.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\n\r\n// Memoized Cell Component for Performance\r\nconst GridCell = React.memo(({\r\n    row, col,\r\n    value,\r\n    isBlack,\r\n    number,\r\n    isActive,\r\n    cursors, // List of players selecting this cell\r\n    onClick\r\n}) => {\r\n    // If it's a black cell, render simplistic\r\n    if (isBlack) {\r\n        return <div className=\"grid-cell black\"></div>;\r\n    }\r\n\r\n    return (\r\n        <div\r\n            className={`grid-cell white ${isActive ? 'selected' : ''}`}\r\n            onClick={() => onClick(row, col)}\r\n        >\r\n            {number && <span className=\"cell-number\">{number}</span>}\r\n            {value}\r\n\r\n            {/* Render Other Player Cursors */}\r\n            {cursors && cursors.length > 0 && (\r\n                <div className=\"cursor-indicator\">\r\n                    {cursors.length}\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n});\r\n\r\nconst CrosswordGrid = ({ grid, cursors, socket, sessionId }) => {\r\n    const [activeCell, setActiveCell] = useState(null); // { r, c }\r\n\r\n    // Handle Input\r\n    useEffect(() => {\r\n        const handleKeyDown = (e) => {\r\n            if (!activeCell || !socket || !sessionId) return;\r\n            const { r, c } = activeCell;\r\n\r\n            // Check for letter (A-Z)\r\n            if (e.key.match(/^[a-zA-Z]$/)) {\r\n                socket.emit('CMD_INPUT_LETTER', {\r\n                    sessionId,\r\n                    x: c, y: r,\r\n                    letter: e.key.toUpperCase()\r\n                });\r\n            }\r\n\r\n            // Backspace/Delete (Clear cell)\r\n            if (e.key === 'Backspace' || e.key === 'Delete') {\r\n                socket.emit('CMD_INPUT_LETTER', {\r\n                    sessionId,\r\n                    x: c, y: r,\r\n                    letter: ''\r\n                });\r\n            }\r\n\r\n            // Arrow implementation (optional future polish)\r\n        };\r\n        window.addEventListener('keydown', handleKeyDown);\r\n        return () => window.removeEventListener('keydown', handleKeyDown);\r\n    }, [activeCell, socket, sessionId]);\r\n\r\n    const handleCellClick = React.useCallback((r, c) => {\r\n        setActiveCell({ r, c });\r\n        if (socket && sessionId) {\r\n            socket.emit('CMD_SELECT_CELL', { sessionId, x: c, y: r });\r\n        }\r\n    }, [socket, sessionId]);\r\n\r\n    if (!grid || grid.length === 0) return <div>Waiting for game...</div>;\r\n\r\n    // Helper to find cursors at this cell\r\n    // cursors = { playerId: {x,y}, ... }\r\n    const getCursorsAt = (r, c) => {\r\n        if (!cursors) return [];\r\n        return Object.values(cursors).filter(pos => pos.x === c && pos.y === r);\r\n    };\r\n\r\n    return (\r\n        <div className=\"crossword-grid\">\r\n            {grid.map((row, r) => (\r\n                <div key={r} className=\"grid-row\" style={{ display: 'contents' }}> {/* Use contents to preserve grid layout */}\r\n                    {row.map((cell, c) => (\r\n                        <GridCell\r\n                            key={`${r}-${c}`}\r\n                            row={r}\r\n                            col={c}\r\n                            value={cell.value}\r\n                            isBlack={cell.isBlack}\r\n                            number={cell.number}\r\n                            isActive={activeCell && activeCell.r === r && activeCell.c === c}\r\n                            cursors={getCursorsAt(r, c)}\r\n                            onClick={handleCellClick}\r\n                        />\r\n                    ))}\r\n                </div>\r\n            ))}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default CrosswordGrid;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}