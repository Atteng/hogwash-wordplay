{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect, useRef, useState } from 'react';\nimport { io } from 'socket.io-client';\nconst SERVER_URL = process.env.REACT_APP_SERVER_URL || 'http://localhost:3001';\n\n/**\r\n * Custom hook for Socket.IO connection management\r\n */\nexport function useSocket() {\n  _s();\n  const [socket, setSocket] = useState(null);\n  const [connected, setConnected] = useState(false);\n  const socketRef = useRef(null);\n  useEffect(() => {\n    // Create socket connection\n    const newSocket = io(SERVER_URL, {\n      transports: ['websocket', 'polling'],\n      reconnection: true,\n      reconnectionDelay: 1000,\n      reconnectionAttempts: 5\n    });\n    socketRef.current = newSocket;\n    setSocket(newSocket);\n\n    // Connection event handlers\n    newSocket.on('connect', () => {\n      console.log('✅ Connected to server');\n      setConnected(true);\n    });\n    newSocket.on('disconnect', () => {\n      console.log('❌ Disconnected from server');\n      setConnected(false);\n    });\n    newSocket.on('connect_error', error => {\n      console.error('Connection error:', error);\n      setConnected(false);\n    });\n\n    // Cleanup on unmount\n    return () => {\n      if (newSocket) {\n        newSocket.close();\n      }\n    };\n  }, []);\n\n  /**\r\n   * Emit event with callback support\r\n   */\n  const emit = (event, data, callback) => {\n    if (socket && connected) {\n      socket.emit(event, data, callback);\n    } else {\n      console.warn('Socket not connected');\n      if (callback) {\n        callback({\n          success: false,\n          error: 'Not connected to server'\n        });\n      }\n    }\n  };\n\n  /**\r\n   * Listen to event\r\n   */\n  const on = (event, handler) => {\n    if (socket) {\n      socket.on(event, handler);\n    }\n  };\n\n  /**\r\n   * Remove event listener\r\n   */\n  const off = (event, handler) => {\n    if (socket) {\n      socket.off(event, handler);\n    }\n  };\n  return {\n    socket,\n    connected,\n    emit,\n    on,\n    off\n  };\n}\n_s(useSocket, \"0RAM7p1EznYW0B1GWrED1/ME5WQ=\");","map":{"version":3,"names":["useEffect","useRef","useState","io","SERVER_URL","process","env","REACT_APP_SERVER_URL","useSocket","_s","socket","setSocket","connected","setConnected","socketRef","newSocket","transports","reconnection","reconnectionDelay","reconnectionAttempts","current","on","console","log","error","close","emit","event","data","callback","warn","success","handler","off"],"sources":["C:/Users/Awaji-Iyaham Atteng/Desktop/multiplayer-crossword/client/src/hooks/useSocket.js"],"sourcesContent":["import { useEffect, useRef, useState } from 'react';\r\nimport { io } from 'socket.io-client';\r\n\r\nconst SERVER_URL = process.env.REACT_APP_SERVER_URL || 'http://localhost:3001';\r\n\r\n/**\r\n * Custom hook for Socket.IO connection management\r\n */\r\nexport function useSocket() {\r\n    const [socket, setSocket] = useState(null);\r\n    const [connected, setConnected] = useState(false);\r\n    const socketRef = useRef(null);\r\n\r\n    useEffect(() => {\r\n        // Create socket connection\r\n        const newSocket = io(SERVER_URL, {\r\n            transports: ['websocket', 'polling'],\r\n            reconnection: true,\r\n            reconnectionDelay: 1000,\r\n            reconnectionAttempts: 5,\r\n        });\r\n\r\n        socketRef.current = newSocket;\r\n        setSocket(newSocket);\r\n\r\n        // Connection event handlers\r\n        newSocket.on('connect', () => {\r\n            console.log('✅ Connected to server');\r\n            setConnected(true);\r\n        });\r\n\r\n        newSocket.on('disconnect', () => {\r\n            console.log('❌ Disconnected from server');\r\n            setConnected(false);\r\n        });\r\n\r\n        newSocket.on('connect_error', (error) => {\r\n            console.error('Connection error:', error);\r\n            setConnected(false);\r\n        });\r\n\r\n        // Cleanup on unmount\r\n        return () => {\r\n            if (newSocket) {\r\n                newSocket.close();\r\n            }\r\n        };\r\n    }, []);\r\n\r\n    /**\r\n     * Emit event with callback support\r\n     */\r\n    const emit = (event, data, callback) => {\r\n        if (socket && connected) {\r\n            socket.emit(event, data, callback);\r\n        } else {\r\n            console.warn('Socket not connected');\r\n            if (callback) {\r\n                callback({ success: false, error: 'Not connected to server' });\r\n            }\r\n        }\r\n    };\r\n\r\n    /**\r\n     * Listen to event\r\n     */\r\n    const on = (event, handler) => {\r\n        if (socket) {\r\n            socket.on(event, handler);\r\n        }\r\n    };\r\n\r\n    /**\r\n     * Remove event listener\r\n     */\r\n    const off = (event, handler) => {\r\n        if (socket) {\r\n            socket.off(event, handler);\r\n        }\r\n    };\r\n\r\n    return {\r\n        socket,\r\n        connected,\r\n        emit,\r\n        on,\r\n        off,\r\n    };\r\n}\r\n"],"mappings":";AAAA,SAASA,SAAS,EAAEC,MAAM,EAAEC,QAAQ,QAAQ,OAAO;AACnD,SAASC,EAAE,QAAQ,kBAAkB;AAErC,MAAMC,UAAU,GAAGC,OAAO,CAACC,GAAG,CAACC,oBAAoB,IAAI,uBAAuB;;AAE9E;AACA;AACA;AACA,OAAO,SAASC,SAASA,CAAA,EAAG;EAAAC,EAAA;EACxB,MAAM,CAACC,MAAM,EAAEC,SAAS,CAAC,GAAGT,QAAQ,CAAC,IAAI,CAAC;EAC1C,MAAM,CAACU,SAAS,EAAEC,YAAY,CAAC,GAAGX,QAAQ,CAAC,KAAK,CAAC;EACjD,MAAMY,SAAS,GAAGb,MAAM,CAAC,IAAI,CAAC;EAE9BD,SAAS,CAAC,MAAM;IACZ;IACA,MAAMe,SAAS,GAAGZ,EAAE,CAACC,UAAU,EAAE;MAC7BY,UAAU,EAAE,CAAC,WAAW,EAAE,SAAS,CAAC;MACpCC,YAAY,EAAE,IAAI;MAClBC,iBAAiB,EAAE,IAAI;MACvBC,oBAAoB,EAAE;IAC1B,CAAC,CAAC;IAEFL,SAAS,CAACM,OAAO,GAAGL,SAAS;IAC7BJ,SAAS,CAACI,SAAS,CAAC;;IAEpB;IACAA,SAAS,CAACM,EAAE,CAAC,SAAS,EAAE,MAAM;MAC1BC,OAAO,CAACC,GAAG,CAAC,uBAAuB,CAAC;MACpCV,YAAY,CAAC,IAAI,CAAC;IACtB,CAAC,CAAC;IAEFE,SAAS,CAACM,EAAE,CAAC,YAAY,EAAE,MAAM;MAC7BC,OAAO,CAACC,GAAG,CAAC,4BAA4B,CAAC;MACzCV,YAAY,CAAC,KAAK,CAAC;IACvB,CAAC,CAAC;IAEFE,SAAS,CAACM,EAAE,CAAC,eAAe,EAAGG,KAAK,IAAK;MACrCF,OAAO,CAACE,KAAK,CAAC,mBAAmB,EAAEA,KAAK,CAAC;MACzCX,YAAY,CAAC,KAAK,CAAC;IACvB,CAAC,CAAC;;IAEF;IACA,OAAO,MAAM;MACT,IAAIE,SAAS,EAAE;QACXA,SAAS,CAACU,KAAK,CAAC,CAAC;MACrB;IACJ,CAAC;EACL,CAAC,EAAE,EAAE,CAAC;;EAEN;AACJ;AACA;EACI,MAAMC,IAAI,GAAGA,CAACC,KAAK,EAAEC,IAAI,EAAEC,QAAQ,KAAK;IACpC,IAAInB,MAAM,IAAIE,SAAS,EAAE;MACrBF,MAAM,CAACgB,IAAI,CAACC,KAAK,EAAEC,IAAI,EAAEC,QAAQ,CAAC;IACtC,CAAC,MAAM;MACHP,OAAO,CAACQ,IAAI,CAAC,sBAAsB,CAAC;MACpC,IAAID,QAAQ,EAAE;QACVA,QAAQ,CAAC;UAAEE,OAAO,EAAE,KAAK;UAAEP,KAAK,EAAE;QAA0B,CAAC,CAAC;MAClE;IACJ;EACJ,CAAC;;EAED;AACJ;AACA;EACI,MAAMH,EAAE,GAAGA,CAACM,KAAK,EAAEK,OAAO,KAAK;IAC3B,IAAItB,MAAM,EAAE;MACRA,MAAM,CAACW,EAAE,CAACM,KAAK,EAAEK,OAAO,CAAC;IAC7B;EACJ,CAAC;;EAED;AACJ;AACA;EACI,MAAMC,GAAG,GAAGA,CAACN,KAAK,EAAEK,OAAO,KAAK;IAC5B,IAAItB,MAAM,EAAE;MACRA,MAAM,CAACuB,GAAG,CAACN,KAAK,EAAEK,OAAO,CAAC;IAC9B;EACJ,CAAC;EAED,OAAO;IACHtB,MAAM;IACNE,SAAS;IACTc,IAAI;IACJL,EAAE;IACFY;EACJ,CAAC;AACL;AAACxB,EAAA,CAhFeD,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}